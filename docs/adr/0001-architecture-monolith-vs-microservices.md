# ADR 0001: Архитектура — модульный монолит против микросервисов

## Статус
Принято

## Контекст
Проект состоит из backend на Django и отдельного frontend в виде SPA на React. Мы рассматриваем варианты архитектуры: продолжать развивать модульный монолит или переходить на микросервисы.

## Решение
Мы остаёмся на модульном монолите с чётким разделением доменных модулей внутри Django и отдельным SPA-клиентом.

## Причины
- Быстрая разработка: меньше накладных расходов на инфраструктуру и коммуникацию сервисов.
- Единая база данных и транзакционная целостность.
- Проще сопровождать небольшими командами и поддерживать общие стандарты качества.
- React SPA уже отделяет клиентскую часть, сохраняя возможность независимого релиза фронтенда.

## Последствия
- Необходим строгий контроль границ между модулями, чтобы избегать «биг-бол-оф-мад».
- Требуются автоматические тесты и CI для предотвращения регрессий при изменениях в общих частях.
- Сложнее масштабировать отдельные домены горизонтально без дополнительных оптимизаций.

## Путь эволюции
- Выделять границы модулей в Django и документировать API между ними.
- При росте нагрузки переводить отдельные домены в самостоятельные сервисы с использованием REST/gRPC.
- Использовать API Gateway и очередь сообщений при переходе к микросервисной архитектуре.
- Поддерживать контрактные тесты между фронтендом и backend API, чтобы упростить возможное разделение сервисов.
